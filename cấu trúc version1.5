cofure_bot/
│
├── main.py                # 🚀 Khởi động Flask + webhook Messenger + scheduler tín hiệu
├── .env.example           # 🔐 Token Page, verify token, Messenger user ID, PORT
├── requirements.txt       # 📦 Flask, requests, schedule, dotenv...
├── Procfile               # ⚙️ Dành cho Heroku hoặc Render

│
├── utils/                 # 🔧 Phụ trợ chung
│   ├── config_loader.py       # Load biến môi trường: TOKEN, USER_ID, VERIFY_TOKEN
│   ├── vnđ_formatter.py       # Format giá VNĐ cho entry / TP / SL
│
├── messenger/             # 📬 Gửi tin qua Messenger
│   └── send_message.py        # Hàm gửi tin Meta API — dùng TOKEN và USER_ID

│
├── messages/              # 💬 Trình bày nội dung tin nhắn rõ ràng, dễ hiểu
│   ├── format_signal.py       # Format 5 lệnh theo emoji và độ mạnh
│   ├── emergency_format.py    # Format riêng cho lệnh khẩn cấp
│   └── greeting_format.py     # Tin chào buổi sáng, tổng kết phiên, lời chúc

│
├── scheduler/             # 📅 Hoạt động theo giờ từ 06:00 → 22:00
│   ├── morning_report.py      # 06:00 — Giá BTC/ETH/SOL + Funding + xu hướng
│   ├── news_schedule.py       # 07:00 — Lịch tin CPI/FOMC + chiến lược
│   ├── signal_dispatcher.py   # Mỗi 15p — Gửi 5 lệnh từ signal_generator
│   ├── summary_report.py      # 22:00 — Hiệu suất TP/SL + biểu đồ + lời chúc
│   └── emergency_trigger.py   # Chạy mỗi 1 phút — Kích hoạt lệnh khẩn nếu breakout

│
├── core/                  # 🧠 Sinh lệnh từ dữ liệu kỹ thuật
│   ├── signal_generator.py    # Tạo 5 lệnh: 3 Scalping + 2 Swing + độ mạnh
│   ├── emergency_signal.py    # Quét funding/volume → sinh lệnh khẩn cấp
│   ├── pre_breakout_detector.py # Phát hiện spread co, RSI tích cực → dự báo sớm
│   └── strength_classifier.py # Phân loại độ mạnh: ≥70 ✅ • 50–69 🟡 • <50 ⚠️

│
├── macro/                # 🕯️ Phân tích tin vĩ mô và phản ứng thị trường
│   ├── forex_factory_fetcher.py # Lấy tin từ ForexFactory hoặc API tin vĩ mô
│   ├── news_analyzer.py        # Phân tích sau khi CPI ra: funding / spread
│   └── macro_advisor.py        # Gợi ý nên Long / Wait / đứng ngoài

│
├── marketdata/           # 📊 Lấy dữ liệu từ ONUS Futures
│   ├── futures_tracker.py      # Danh sách coin Futures có funding
│   ├── volume_scanner.py       # Quét volume tăng bất thường
│   └── spread_monitor.py       # Theo dõi spread, RSI để báo breakout

│
├── data/                 # 🗂️ JSON lưu dữ liệu chạy theo thời gian
│   ├── signal_log.json         # Lưu log 5 tín hiệu đã gửi
│   ├── macro_news.json         # Tin vĩ mô đã gửi hôm nay
│   └── coin_list.json          # Danh sách coin quét Funding / Volume


               
*****Công dụng bot*****
 🕒 Khung giờ hoạt động: 06:00 → 22:00 mỗi ngày

🌞 06:00 — Chào buổi sáng + bản tin đầu ngày
• Tin nhắn cá nhân hóa: “Chào buổi sáng nhé {Tên} ☀️…”  
• Nội dung:
   ▸ Giá VNĐ BTC / ETH / SOL  
   ▸ Funding, volume, xu hướng  
• Dùng emoji nhẹ → tạo thiện cảm

📅 07:00 — Lịch tin vĩ mô
• Nếu không có tin:
→ “📅 Hôm nay không có tin tức vĩ mô quan trọng.  
Chúc bạn một ngày trade thật thành công nha!”

• Nếu có tin mạnh (CPI, FOMC...):
→ Bot gửi:
   ▸ Giờ ra tin  
   ▸ Loại tin  
   ▸ Mức ảnh hưởng  
   ▸ Gợi ý chiến lược → đứng ngoài hoặc chờ thời điểm

⚡ Mỗi 15–30 phút từ 06h → 22h — bot gửi 5 lệnh:
• Gồm 3 Scalping + 2 Swing  
• Mỗi lệnh có:
   ✔️ Loại: Market / Limit  
   ✔️ Entry / TP / SL bằng VNĐ  
   ✔️ Lý do kỹ thuật: volume, funding, mô hình, RSI  
   ✔️ Độ mạnh:
      📊 Mạnh ≥70%  
      📊 Tiêu chuẩn 50–69%  
      📊 Tham khảo <50%

⏰ Tín hiệu khẩn — ngoài chu kỳ
• Nếu volume / funding tăng bất thường → bot kích hoạt  
• Quét tất cả coin trên ONUS Futures  
• Báo TRƯỚC khi giá chạy → giúp user vào sớm đón sóng  
• Tin nhắn ví dụ:
  “⏰ Funding CHI vừa nghiêng Long mạnh, volume tăng đều.  
  Có thể cân nhắc MUA quanh vùng 32.800 VNĐ trước khi breakout.”

🧠 Dự báo sóng sớm — không đợi giá chạy
• Bot phát hiện mô hình tích lũy  
• Spread co hẹp, funding lệch, RSI tích cực  
→ Nếu các yếu tố đồng thuận → bot sinh lệnh trước cây nến bật

🕯️ Xử lý khi tin vĩ mô ra
1️⃣ Bot gửi số liệu:  
→ CPI thực tế / Dự báo / Kỳ trước  
→ Lãi suất FED / Dự báo thị trường

2️⃣ Phân tích phản ứng:
→ Funding / volume / spread / RSI biến động thế nào?

3️⃣ Gửi lời khuyên:
→ Ví dụ:
  “🕯️ CPI thấp hơn dự báo → market tích cực.  
  Funding BTC đang tăng nhẹ → có thể Long sau 5 phút nếu ổn định.”

→ Nếu thị trường rõ xu hướng → bot sinh lệnh chiến lược

🌒 22:00 — Tổng kết phiên
• Báo hiệu suất TP / SL  
• Biểu đồ tỷ lệ MUA / BÁN  
• Dự báo ngày mai  
• Lời chúc ngủ ngon:
→ “🌙 Cảm ơn bạn đã đồng hành cùng Cofure hôm nay. 😴 Ngủ ngon nha!”
