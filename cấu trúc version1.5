cofure_bot/
├── main.py                      # 🚀 Khởi động Flask & routing webhook
├── version_handler.py           # 🧠 Ghi chú phiên bản bot
├── config.py                    # ⚙️ Cấu hình chiến thuật, nhóm coin, đơn vị
├── requirements.txt             # 📦 Các thư viện cần cài (requests, flask...)
├── Procfile                     # 🛠 Lệnh khởi chạy trên Render
├── README.md                    # 📘 Hướng dẫn triển khai bot
├── risk_manager.py              # 📊 Tính toán SL/TP/R:R theo giá VND
├── .env                         # 🔐 Token, verify, port khởi động
│
├── admin/                       # 👤 Xét duyệt user thủ công
│   ├── approval_handler.py      # ✅ Xử lý /duyet và /huy user
│   └── config_loader.py         # 📥 Load PSID admin từ file
│
├── messenger/                   # 💬 Xử lý Webhook và gửi tin
│   ├── mess_handler.py          # 📥 Nhận tin từ Messenger và phân loại
│   ├── message_sender.py        # 📤 Gửi tin nhắn tới người dùng
│   └── registry_manager.py      # 📁 Quản lý pending và user đã duyệt
│
├── macro/                       # 🌍 Lịch kinh tế & phân tích tin vĩ mô
│   ├── event_watcher.py         # 🔔 Quét lịch kinh tế (CPI, FOMC, NFP...)
│   └── news_analyzer.py         # 📈 Phân tích ảnh hưởng tin tới crypto
│
├── scheduler/                   # ⏰ Lịch trình tự động gửi tin
│   ├── macro_reporter.py        # 🌅 Gửi lịch vĩ mô sáng sớm
│   ├── macro_advisor.py         # 📊 Phân tích sau khi tin ra
│   └── cron_daemon.py           # 🧭 Kích hoạt theo khung giờ hệ thống
│
├── core/                        # 🏹 Sinh tín hiệu trade kỹ thuật
│   ├── signal_generator.py      # 🔁 Tạo lệnh Scalping / Swing
│   ├── entry_checker.py         # ✅ Kiểm tra điều kiện đủ
│   ├── multi_signal_manager.py  # 📌 Lệnh tham khảo low confidence
│   ├── liquidity_alert_runner.py# 💧 Cảnh báo vùng thanh khoản
│   ├── coin_filter.py           # 🧹 Lọc coin volume yếu
│   ├── signal_analyzer.py       # 📊 Phân tích RSI, funding
│   ├── strategy_classifier.py   # 🧠 Gắn chiến thuật
│   └── risk_evaluator.py        # ⚠️ Đánh giá độ rủi ro
│
├── userflow/                    # 👁 Theo dõi coin / sàn người dùng quan tâm
│   ├── coin_listener.py         # 📌 Quản lý danh sách coin được theo dõi
│   └── exchange_listener.py     # 🔄 Lấy dữ liệu sàn theo người dùng
│
├── marketdata/                  # 📈 Lấy dữ liệu thị trường
│   ├── price_fetcher.py         # 💰 Lấy giá coin hiện tại
│   ├── liquidity_detector.py    # 💧 Phân tích vùng thanh khoản
│   ├── volume_tracker.py        # 🔎 Theo dõi biến động volume
│   ├── rsi_calculator.py        # 📐 Tính RSI
│   └── market_snapshot.py       # 🖼 Snapshot thị trường
│
├── messages/                    # ✉️ Format nội dung lệnh gửi đi
│   ├── templates.py             # 📋 Lệnh: entry, SL, TP, chiến thuật
│   └── emoji_map.py             # 😀 Emoji cho lệnh / cảnh báo
│
├── report/                      # 📄 Tổng kết lệnh
│   └── end_day_report.py        # 📊 Báo cáo R:R, số lượng lệnh cuối ngày
│
├── utils/                       # 🔧 Hàm phụ trợ xử lý số liệu
│   ├── formatter.py             # 🔢 Format giá, %, số liệu
│   └── validator.py             # ✅ Kiểm tra dữ liệu đầu vào
│
├── data/                        # 📁 File JSON lưu trạng thái hệ thống
│   ├── admin_config.json        # 👤 PSID admin có quyền duyệt user
│   ├── user_registry.json       # ✅ Danh sách user đã duyệt
│   └── pending_users.json       # ⌛ Danh sách user đang chờ duyệt


               
🧠 Timeline hoạt động bot Cofure | 00:00 → 23:59
🕒 Thời điểm	⚙️ Bot thực hiện gì
00:00 – 05:59
🔎 Quét sớm phiên Á nếu có volume tăng hoặc MA đảo chiều → Nếu có tín hiệu VIP mạnh → gửi ngay lệnh (Market) → Nếu thị trường yên lặng → bot nghỉ tạm 📥 Webhook vẫn hoạt động → người mới nhắn tin vẫn được ghi nhận | | 06:00 | 📨 Gửi bản tin sáng cho toàn bộ người dùng → Chào ngày mới 🧠 → Tỷ giá USDT/VND theo sàn người dùng → Lịch kinh tế hôm nay: tin CPI, FOMC, GDP… → Nhận định xu hướng BTC / Altcoin | | 07:00 | 🔔 Quét lịch tin tức vĩ mô → Nếu có tin trọng yếu → bot báo thời điểm + tác động → Nếu không có tin → gửi cảnh báo: “Không có tin quan trọng” | | 06:00 – 22:00 | 📡 Chu kỳ gửi tín hiệu Futures → Cứ mỗi 15–30 phút → bot gửi 1 batch gồm 5 lệnh → Cấu trúc batch: 3 Long + 2 Short → Gắn rõ chiến thuật: Scalping hoặc Swing → Hiển thị giá theo sàn ONUS hoặc Nami: cả VND + USD → Lệnh yếu hoặc thị trường sideway → gắn 📌 Tham khảo → Hiện rõ kiểu lệnh ngay cạnh Entry: (Market) hoặc (Limit) ⚡ Nếu phát hiện lệnh VIP / biến động mạnh → gửi tức thì không chờ batch | | Giờ tin ra (bất kỳ) | 🔔 Bot phản ứng tức thì nếu có tin CPI, FOMC, NFP… → Phân tích tác động đến thị trường → Gửi cảnh báo + tạo lệnh mới nếu cần | | 22:00 – 23:00 | 📊 Gửi báo cáo cuối ngày → Thống kê các lệnh MUA / BÁN đã gửi → Trung bình R:R → Gửi lời chúc ngủ ngon 🌙 | | 23:00 – 23:59 | 🔄 Reset dữ liệu → Volume, funding, MA, trạng thái coin → Lọc top coin tiềm năng → Lên lịch bản tin sáng 06:00 hôm sau |
